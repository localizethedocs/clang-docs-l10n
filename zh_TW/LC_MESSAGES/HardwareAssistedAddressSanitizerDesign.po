# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2007-2025, The Clang Team
# This file is distributed under the same license as the Clang package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Clang 6\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-10-13 13:42+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_TW\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:3
msgid "Hardware-assisted AddressSanitizer Design Documentation"
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:5
msgid ""
"This page is a design document for **hardware-assisted AddressSanitizer** "
"(or **HWASAN**) a tool similar to :doc:`AddressSanitizer`, but based on "
"partial hardware assistance."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:10
msgid "The document is a draft, suggestions are welcome."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:14
msgid "Introduction"
msgstr "簡介"

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:16
msgid ""
":doc:`AddressSanitizer` tags every 8 bytes of the application memory with a "
"1 byte tag (using *shadow memory*), uses *redzones* to find buffer-overflows "
"and *quarantine* to find use-after-free. The redzones, the quarantine, and, "
"to a less extent, the shadow, are the sources of AddressSanitizer's memory "
"overhead. See the `AddressSanitizer paper`_ for details."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:24
msgid ""
"AArch64 has the `Address Tagging`_ (or top-byte-ignore, TBI), a hardware "
"feature that allows software to use 8 most significant bits of a 64-bit "
"pointer as a tag. HWASAN uses `Address Tagging`_ to implement a memory "
"safety tool, similar to :doc:`AddressSanitizer`, but with smaller memory "
"overhead and slightly different (mostly better) accuracy guarantees."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:32
msgid "Algorithm"
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:33
msgid ""
"Every heap/stack/global memory object is forcibly aligned by `N` bytes (`N` "
"is e.g. 16 or 64). We call `N` the **granularity** of tagging."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:35
msgid ""
"For every such object a random `K`-bit tag `T` is chosen (`K` is e.g. 4 or 8)"
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:36
msgid "The pointer to the object is tagged with `T`."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:37
msgid ""
"The memory for the object is also tagged with `T` (using a `N=>1` shadow "
"memory)"
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:39
msgid ""
"Every load and store is instrumented to read the memory tag and compare it "
"with the pointer tag, exception is raised on tag mismatch."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:43
msgid "Instrumentation"
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:46
msgid "Memory Accesses"
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:47
msgid ""
"All memory accesses are prefixed with an inline instruction sequence that "
"verifies the tags. Currently, the following sequence is used:"
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:68
msgid "Alternatively, memory accesses are prefixed with a function call."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:71
msgid "Heap"
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:73
msgid ""
"Tagging the heap memory/pointers is done by `malloc`. This can be based on "
"any malloc that forces all objects to be N-aligned. `free` tags the memory "
"with a different tag."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:78
msgid "Stack"
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:80
msgid ""
"Special compiler instrumentation is required to align the local variables by "
"N, tag the memory and the pointers. Stack instrumentation is expected to be "
"a major source of overhead, but could be optional. TODO: details."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:87
msgid "Globals"
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:89
msgid "TODO: details."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:92
msgid "Error reporting"
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:94
msgid ""
"Errors are generated by the `HLT` instruction and are handled by a signal "
"handler."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:97
msgid "Attribute"
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:99
msgid ""
"HWASAN uses its own LLVM IR Attribute `sanitize_hwaddress` and a matching C "
"function attribute. An alternative would be to re-use ASAN's attribute "
"`sanitize_address`. The reasons to use a separate attribute are:"
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:103
msgid ""
"Users may need to disable ASAN but not HWASAN, or vise versa, because the "
"tools have different trade-offs and compatibility issues."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:105
msgid ""
"LLVM (ideally) does not use flags to decide which pass is being used, ASAN "
"or HWASAN are being applied, based on the function attributes."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:108
msgid ""
"This does mean that users of HWASAN may need to add the new attribute to the "
"code that already uses the old attribute."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:113
msgid "Comparison with AddressSanitizer"
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:132
msgid "HWASAN:"
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:116
msgid ""
"Is less portable than :doc:`AddressSanitizer` as it relies on hardware "
"`Address Tagging`_ (AArch64). Address Tagging can be emulated with compiler "
"instrumentation, but it will require the instrumentation to remove the tags "
"before any load or store, which is infeasible in any realistic environment "
"that contains non-instrumented code."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:122
msgid ""
"May have compatibility problems if the target code uses higher pointer bits "
"for other purposes."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:124
msgid ""
"May require changes in the OS kernels (e.g. Linux seems to dislike tagged "
"pointers passed from address space: https://www.kernel.org/doc/Documentation/"
"arm64/tagged-pointers.txt)."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:127
msgid ""
"**Does not require redzones to detect buffer overflows**, but the buffer "
"overflow detection is probabilistic, with roughly `(2**K-1)/(2**K)` "
"probability of catching a bug."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:130
msgid ""
"**Does not require quarantine to detect heap-use-after-free, or stack-use-"
"after-return**. The detection is similarly probabilistic."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:134
msgid ""
"The memory overhead of HWASAN is expected to be much smaller than that of "
"AddressSanitizer: `1/N` extra memory for the shadow and some overhead due to "
"`N`-aligning all objects."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:141
msgid "Related Work"
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:142
msgid "`SPARC ADI`_ implements a similar tool mostly in hardware."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:143
msgid ""
"`Effective and Efficient Memory Protection Using Dynamic Tainting`_ "
"discusses similar approaches (\"lock & key\")."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:145
msgid ""
"`Watchdog`_ discussed a heavier, but still somewhat similar \"lock & key\" "
"approach."
msgstr ""

#: ../../../HardwareAssistedAddressSanitizerDesign.rst:147
msgid "*TODO: add more \"related work\" links. Suggestions are welcome.*"
msgstr ""
